{{!
    This file is part of Moodle - http://moodle.org/
    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_timetable/index
    Example context (json):
    {
    }
}}

<table id="tm_sess_tp" class="generaltable mt-5" style="align-items: flex-end;">
    <thead>
        <tr>
            <th>#</th>
            <th>{{#str}} organisations, local_timetable, {{firstlevel}} {{/str}}</th>
            <th>{{#str}}set_session_type, local_timetable{{/str}}</th>
            <th>{{#str}}action, local_timetable{{/str}}</th>
        </tr>
    </thead>
    <tbody>
        {{#data}}
        <tr>
            <td>
                {{count}}
            </td>
            <td>
                {{institutename}}
            </td>
            <td>
              {{session_type}}
            </td>
            <td class="action_icons d-flex">
                {{#session_type_exists}}
                    {{^cannotedit}}
                        <!-- <a href="javascript:void(0)" title="{{#str}}cannotedit, local_timetable{{/str}}">
                            <i class="icon fa fa-pencil edit_icon" aria-hidden="true"></i>
                        </a> -->
                        <a class="{{session_type_exists}}" href="javascript:void(0)" title="{{#str}}edit, local_timetable{{/str}}" onclick="(function(e){ require('local_timetable/ajaxforms').sessiontype_notdelete({name:'{{session_type}}', type:'edit' }) })(event)">
                            <i class="icon fa fa-pencil edit_icon " aria-hidden="true"></i>
                        </a>
                        <a class="{{session_type_exists}}" href="javascript:void(0)" title="{{#str}}delete, local_timetable{{/str}}" onclick="(function(e){ require('local_timetable/ajaxforms').sessiontype_notdelete({name:'{{session_type}}', type:'delete' }) })(event)">
                            <i class="icon fa fa-trash fa-fw delete_icon " aria-hidden="true"></i>
                        </a>
                    {{/cannotedit}}
                {{/session_type_exists}}
                {{^session_type_exists}}
                    {{^cannotedit}}
                        <a href="{{configwwwroot}}/local/timetable/session_type.php?id={{id}}" title="{{#str}}edit, local_timetable{{/str}}">
                            <i class="icon fa fa-pencil edit_icon" aria-hidden="true"></i>
                        </a>
                        <a class="{{session_type_exists}}" href="javascript:void(0)" title="{{#str}}delete, local_timetable{{/str}}" onclick="(function(e){ require('local_timetable/ajaxforms').deletesessiontype({ action: 'delete_session_type' ,id:{{id}}, name: '{{session_type}}' }) })(event)">
                            <i class="icon fa fa-trash fa-fw delete_icon " aria-hidden="true"></i>
                        </a>
                    {{/cannotedit}}
                {{/session_type_exists}}
            </td>
        </tr>
        {{/data}}
    </tbody>
</table>
