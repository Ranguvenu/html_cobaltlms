{"version":3,"file":"program.min.js","sources":["../src/program.js"],"sourcesContent":["/**\n * Add a create new group modal to the page.\n *\n * @module     core_group/AjaxForms\n * @class      AjaxForms\n * @package\n * @copyright  2022 Eabyas Info Solutions <www.eabyas.in>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\n    // 'local_curriculum/dataTables.checkboxes',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'jquery',\n    'jqueryui'\n], /*globals modal*/\n function(Str, ModalFactory, ModalEvents, Ajax, $) {\n    var curriculum;\n    return {\n        init: function(args) {\n            this.AssignUsers(args);\n        },\n        curriculumDatatable: function(args) {\n            var params = [];\n            params.action = 'viewcurriculums';\n            params.curriculumstatus = args.curriculumstatus;\n            $('#viewcurriculums').dataTable({\n                'bInfo': false,\n                'processing': true,\n                'serverSide': true,\n                'ajax': {\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\n                    \"data\": params\n                },\n                \"bLengthChange\": false,\n                \"language\": {\n                    \"paginate\": {\n                        \"next\": \">\",\n                        \"previous\": \"<\"\n                    },\n                    'processing': '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>'\n                },\n                \"pageLength\": 6\n            });\n        },\n        SessionDatatable: function(args) {\n        var params = [];\n            params.action = 'viewcurriculumsessions';\n            params.curriculumid = args.curriculumid;\n            params.semesterid = args.semesterid;\n            params.bclcid = args.bclcid;\n            if(args.action != ''){\n                params.tab = args.action;\n            } else {\n                params.tab = false;\n            }\n\n                $('#viewcurriculumsessions').dataTable({\n                'processing': true,\n                'serverSide': true,\n                \"language\": {\n                    \"paginate\": {\n                    \"next\": \">\",\n                    \"previous\": \"<\"\n                    },\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\n                    \"search\": \"\",\n                    \"searchPlaceholder\": \"Search\"\n                },\n                'ajax': {\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\n                    \"data\": params\n                },\n                \"responsive\": true,\n                \"pageLength\": 5,\n                \"bLengthChange\": false,\n                \"bInfo\" : false,\n            });\n            this.sessionenrol(args);\n        },\n        deleteConfirm: function(args) {\n            return Str.get_strings([{\n                key: 'confirmation',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'deleteconfirm',\n                component: 'local_curriculum',\n                param: args.curriculumname,\n            },\n            {\n                key: 'deleteallconfirm',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'Delete'\n            },\n            {\n                key: 'deletecourseconfirm',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'cannotdeleteall',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'cannotdeletesession',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'cannotdeletesemester',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'cannotdeletesemesteryear',\n                component: 'local_curriculum'\n            },\n            {\n                key: 'confirmunassignfaculty',\n                component: 'local_curriculum'\n            }\n            ]).then(function(s) {\n                if (args.action == \"deletecurriculum\") {\n                    s[1] = s[3];\n                    var confirm = ModalFactory.types.CONFIRM;\n                 } else if (args.action == \"deletecurriculumcourse\") {\n                    s[1] = s[4];\n                    var confirm = ModalFactory.types.CONFIRM;\n                 } else if (args.action == \"cannotdeletecurriculum\") {\n                    s[1] = s[5];\n                    var confirm = ModalFactory.types.DEFAULT;\n                 } else if (args.action == \"cannotdeletesession\") {\n                    s[1] = s[6];\n                    var confirm = ModalFactory.types.DEFAULT;\n                 } else if (args.action == \"cannotdeletesemester\") {\n                    s[1] = s[7];\n                    var confirm = ModalFactory.types.DEFAULT;\n                 } else if (args.action == \"cannotdeletesemesteryear\") {\n                    s[1] = s[8];\n                    var confirm = ModalFactory.types.DEFAULT;\n                 } else if (args.action == \"unassignfaculty\") {\n                    s[1] = s[9];\n                    var confirm = ModalFactory.types.CONFIRM;\n                 } else {\n                    s[1] = s[2];\n                    var confirm = ModalFactory.types.CONFIRM;\n                 }\n                ModalFactory.create({\n                    title: s[0],\n                    type: confirm,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    if(args.action != \"cannotdeletecurriculum\" && args.action != \"cannotdeletesession\"\n                        && args.action != \"cannotdeletesemester\" && args.action != \"cannotdeletesemesteryear\"){\n                        modal.setSaveButtonText(s[3]);\n                    }\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_curriculum_' + args.action,\n                            args: args\n                        }]);\n                        promise[0].done(function() {\n                            if(args.action == \"deleteprogram\"){\n                                window.location.href = M.cfg.wwwroot + '/local/curriculum/index.php';\n                            } else {\n                                window.location.href = M.cfg.wwwroot + '/local/curriculum/view.php?ccid=' + args.curriculumid;\n                            }\n                        }).fail(function() {\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\n        AssignUsers: function() {\n            $('.usersselect').click(function() {\n                var type = $(this).data('id');\n\n                if (type === 'removeselect') {\n                    $('input#remove').prop('disabled', false);\n                    $('input#add').prop('disabled', true);\n                } else if (type === 'addselect') {\n                    $('input#remove').prop('disabled', true);\n                    $('input#add').prop('disabled', false);\n                }\n\n                if ($(this).hasClass('select_all')) {\n                    $('#' + type + ' option').prop('selected', true);\n                } else if ($(this).hasClass('remove_all')) {\n                    $('#' + type ).val('').trigger(\"change\");\n                }\n            });\n        },\n        curriculumStatus: function(args) {\n            return Str.get_strings([\n            {\n                key: 'confirmation',\n                component: 'local_program'\n            },\n            {\n                key: args.actionstatusmsg,\n                component: 'local_program'\n            },\n            {\n                key: 'Confirm'\n            }]).then(function(s) {\n                ModalFactory.create({\n                    title: s[0],\n                    type: ModalFactory.types.CONFIRM,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[2]);\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_curriculum_' + args.action,\n                            args: args\n                        }]);\n                        promise[0].done(function() {\n                            window.location.href = window.location.href+String();\n                        }).fail(function() {\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\nManagecurriculumStatus: function(args) {\n            return Str.get_strings([{\n                key: 'confirmation',\n                component: 'local_program'\n            },\n            {\n                key: args.actionstatusmsg,\n                component: 'local_program',\n                param: args.curriculumname,\n            },\n            {\n                key: 'deleteallconfirm',\n                component: 'local_program'\n            },\n            {\n                key: 'yes'\n            }]).then(function(s) {\n                ModalFactory.create({\n                    title: s[0],\n                    type: ModalFactory.types.CONFIRM,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[3]);\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\n                        e.preventDefault();\n                        args.confirm = true;\n                        var promise = Ajax.call([{\n                            methodname: 'local_program_managecurriculumStatus',\n                            args: args\n                        }]);\n                        promise[0].done(function() {\n                            window.location.href = M.cfg.wwwroot + '/local/curriculum/view.php?ccid='+args.curriculumid;\n                        }).fail(function() {\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        },\n        load: function () {\n        },\n        unassignCourses: function(args){\n            return Str.get_strings([{\n                    key: 'confirm'\n                },\n                {\n                    key: 'unassign_courses_confirm',\n                    component: 'local_program',\n                    param : args\n                },\n                {\n                    key: 'unassign',\n                    component:'local_program',\n                },\n                {\n                    key: 'cannotunassign_courses_confirm',\n                    component:'local_program',\n                }]).then(function(s) {\n                    if (args.action == \"unassign_course\") {\n                        s[1] = s[2];\n                        var confirm = ModalFactory.types.CONFIRM;\n                    } else if (args.action == \"cannotunassign_course\") {\n                        s[1] = s[3];\n                        var confirm = ModalFactory.types.DEFAULT;\n                    } else {\n                         s[1] = s[0];\n                        var confirm = ModalFactory.types.CONFIRM;\n                    }\n                    ModalFactory.create({\n                        title: s[0],\n                        type: confirm,\n                        body: s[1]\n                    }).done(function(modal) {\n                        this.modal = modal;\n                        if (args.action != \"cannotunassign_course\") {\n                            modal.setSaveButtonText(s[2]);\n                        }\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\n                            e.preventDefault();\n                           var params = {};\n                            params.programid = args.programid;\n                            params.curriculumid = args.curriculumid;\n                            params.semesterid = args.semesterid;\n                            params.yearid = args.yearid;\n                            params.courseid = args.courseid;\n                            var promise = Ajax.call([{\n                                methodname: 'local_program_' + args.action,\n                                args: params\n                            }]);\n                            promise[0].done(function() {\n                                window.location.href = window.location.href+String();\n                            }).fail(function() {\n                            });\n                        }.bind(this));\n                        modal.show();\n                    }.bind(this));\n                modal.show();\n            }.bind(this));\n        },\n        ProgramsDatatable: function(args) {\n        var params = [];\n            params.action = 'viewcurriculumprograms';\n            params.type = args.type;\n            params.options = args.options;\n            var rows_selected = [];\n            var table = $('#viewcurriculumprograms').DataTable({\n                'processing': true,\n                'serverSide': true,\n                'ajax': {\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\n                    \"data\": params\n                },\n                \"language\": {\n                    \"paginate\": {\n                        \"next\": \">\",\n                        \"previous\": \"<\"\n                    },\n                    'processing': '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>'\n                },\n               'order': [[1, 'asc']],\n               'rowCallback': function(row, data){\n                  // Get row ID\n                  var rowId = data[0];\n\n                  // If row ID is in the list of selected row IDs\n                  if($.inArray(rowId, rows_selected) !== -1&&args.type==1){\n                     $(row).find('input[type=\"checkbox\"]').prop('checked', true);\n                     $(row).addClass('selected');\n                  }\n               },\n                \"pageLength\": 10\n            });\n            if(args.type==1){\n                // Handle click on checkbox\n                $('#viewcurriculumprograms tbody').on('click', '.programcheckbox', function(e){\n                   var $row = $(this).closest('tr');\n                    //console.log($row);\n                   // Get row data\n                   var data = table.row($row).data();\n                    //console.log(data);\n                   // Get row ID\n                   var rowId = data[0];\n\n                   // Determine whether row ID is in the list of selected row IDs\n                   var index = $.inArray(rowId, rows_selected);\n\n                   // If checkbox is checked and row ID is not in list of selected row IDs\n                   if(this.checked && index === -1){\n                      rows_selected.push(rowId);\n\n                   // Otherwise, if checkbox is not checked and row ID is in list of selected row IDs\n                   } else if (!this.checked && index !== -1){\n                      rows_selected.splice(index, 1);\n                   }\n\n                   if(this.checked){\n                      $row.addClass('selected');\n                   } else {\n                      $row.removeClass('selected');\n                   }\n\n                   // Update state of \"Select all\" control\n                    curriculum.updateDataTableSelectAllCtrl(table);\n\n                   // Prevent click event from propagating to parent\n                   e.stopPropagation();\n                });\n\n                // Handle click on table cells with checkboxes\n                $('#viewcurriculumprograms').on('click', 'tbody td .programcheckbox, thead th .programcheckboxhead', function(){\n                   $(this).parent().find('input[type=\"checkbox\"]').trigger('click');\n                });\n\n                // Handle click on \"Select all\" control\n                $('thead input[name=\"select_all\"]', table.table().container()).on('click', function(e){\n                   if(this.checked){\n                      $('#viewcurriculumprograms tbody input[type=\"checkbox\"]:not(:checked)').trigger('click');\n                   } else {\n                      $('#viewcurriculumprograms tbody input[type=\"checkbox\"]:checked').trigger('click');\n                   }\n\n                   // Prevent click event from propagating to parent\n                   e.stopPropagation();\n                });\n\n                // Handle table draw event\n                table.on('draw', function(){\n                   // Update state of \"Select all\" control\n                    curriculum.updateDataTableSelectAllCtrl(table);\n                });\n            }\n        },\n        updateDataTableSelectAllCtrl:function(table){\n                var $table             = table.table().node();\n                var $chkbox_all        = $('tbody input[type=\"checkbox\"]', $table);\n                var $chkbox_checked    = $('tbody input[type=\"checkbox\"]:checked', $table);\n                var chkbox_select_all  = $('thead input[name=\"select_all\"]', $table).get(0);\n\n                // If none of the checkboxes are checked\n                if($chkbox_checked.length === 0){\n                   chkbox_select_all.checked = false;\n                   if('indeterminate' in chkbox_select_all){\n                      chkbox_select_all.indeterminate = false;\n                   }\n\n                // If all of the checkboxes are checked\n                } else if ($chkbox_checked.length === $chkbox_all.length){\n                   chkbox_select_all.checked = true;\n                   if('indeterminate' in chkbox_select_all){\n                      chkbox_select_all.indeterminate = false;\n                   }\n\n                // If some of the checkboxes are checked\n                } else {\n                   chkbox_select_all.checked = true;\n                   if('indeterminate' in chkbox_select_all){\n                      chkbox_select_all.indeterminate = true;\n                   }\n                }\n        },\n        FacultysDatatable: function() {\n            var params = [];\n            params.action = 'viewcoursefaculty';\n            params.yearid = $('#viewcoursefaculty').data('yearid');\n            params.semesterid = $('#viewcoursefaculty').data('semesterid');\n            params.courseid = $('#viewcoursefaculty').data('courseid');\n            $('#viewcoursefaculty').dataTable({\n                'processing': true,\n                'serverSide': true,\n                \"language\": {\n                    \"paginate\": {\n                    \"next\": \">\",\n                    \"previous\": \"<\"\n                    },\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\n                    \"search\": \"\",\n                    \"searchPlaceholder\": \"Search\"\n                },\n                'ajax': {\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/local/curriculum/ajax.php',\n                    \"data\":params\n                },\n                \"responsive\": true,\n                \"pageLength\": 5,\n                \"bLengthChange\": false,\n                \"bInfo\" : false,\n            });\n        },\n        masterprogramchildpopup : function(args) {\n            $.ajax({\n                type: \"POST\",\n                url:   M.cfg.wwwroot + '/local/program/ajax.php',\n                data: { curriculumid: args.id, action:'masterprogramchildpopup',\n                    sesskey: M.cfg.sesskey\n                },\n                success: function(returndata) {\n                    //Var returned_data is ONLY available inside this fn!\n                    ModalFactory.create({\n                        title: args.title,\n                        body: returndata\n                      }).done(function(modal) {\n                        // Do what you want with your new modal.\n\n                        modal.show();\n                        curriculum.chlidprogramsDatatable(args);\n                         modal.setLarge();\n                         modal.getRoot().addClass('openLMStransition');\n                            modal.getRoot().animate({\"right\":\"0%\"}, 500);\n                            modal.getRoot().on(ModalEvents.hidden, function() {\n                                    modal.destroy();\n                            }.bind(this));\n                            $(\".close\").click(function(){\n                                modal.hide();\n                                modal.destroy();\n                            });\n                      });\n                }\n            });\n        },\n        chlidprogramsDatatable: function(args) {\n            var params = [];\n            params.action = 'masterprogramchildpopup';\n            params.curriculumid = args.id;\n            params.stable = 0;\n            $('#chlidprograms').dataTable({\n                'processing': true,\n                'serverSide': true,\n                \"language\": {\n                    \"paginate\": {\n                    \"next\": \">\",\n                    \"previous\": \"<\"\n                    },\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\n                    \"search\": \"\",\n                    \"searchPlaceholder\": \"Search\"\n                },\n                'ajax': {\n                    \"type\": \"POST\",\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\n                    \"data\":params\n                },\n                \"responsive\": true,\n                \"pageLength\": 5,\n                \"bLengthChange\": false,\n                \"bInfo\" : false,\n            });\n        },\n\n        checkProgramStatus : function(args) {\n            $.ajax({\n                type: \"POST\",\n                url:   M.cfg.wwwroot + '/local/program/ajax.php',\n                data: { programid: args.pid, curriculumid: args.ccid, costcenter: args.costcenter, action:'programstatusvalidation',\n                    sesskey: M.cfg.sesskey\n                },\n                success: function(returndata) {\n                    //Var returned_data is ONLY available inside this fn!\n                    if(returndata.finalstatus == 'true'){\n                        ModalFactory.create({\n                        title: \"Confirm\",\n                        type: ModalFactory.types.SAVE_CANCEL,\n                        body: Str.get_string('publishprogramconfirmationmessage', 'local_program', args.programname),\n                        }).done(function(modal) {\n                        this.modal = modal;\n                        modal.setSaveButtonText('Confirm');\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\n                            modal.hide();\n                            modal.destroy();\n                            e.preventDefault();\n                            args.confirm = true;\n                            $.ajax({\n                            type: \"POST\",\n                            url:   M.cfg.wwwroot + '/local/program/ajax.php',\n                            data: { programid: args.pid,curriculumid:args.ccid,costcenter: args.costcenter,action:'publishprogram',\n                                sesskey: M.cfg.sesskey\n                            },\n                            success: function(response){\n                                ModalFactory.create({\n                                // type: ModalFactory.types.SAVE,\n                                title: 'Success!',\n                                body: response\n                                }).done(function(modal) {\n                                    modal.show();\n                                    modal.getRoot().on(ModalEvents.hidden, function() {\n                                             setTimeout(function(){\n                                            modal.destroy();\n                                         }, 4000);\n                                    }.bind(this));\n                                    $(\".close\").click(function(){\n                                        modal.hide();\n                                        modal.destroy();\n                                    });\n                                document.location.reload();\n                                // Do what you want with your new modal.\n                              });\n                            }\n                            });\n                        }.bind(this));\n                    modal.show();\n                    }.bind(this));\n                    }else{\n                    ModalFactory.create({\n                        type: ModalFactory.types.CANCEL,\n                        title: 'Alert!',\n                        body: returndata.message\n                      }).done(function(modal) {\n                        // Do what you want with your new modal.\n\n                            modal.show();\n                            modal.getRoot().on(ModalEvents.hidden, function() {\n                                    modal.destroy();\n                            }.bind(this));\n                            $(\".close\").click(function(){\n                                modal.hide();\n                                modal.destroy();\n                            });\n                      });\n                    }\n                }\n            });\n        },\n\n    };\n});\n"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","$","init","args","AssignUsers","curriculumDatatable","params","action","curriculumstatus","dataTable","M","cfg","wwwroot","SessionDatatable","curriculumid","semesterid","bclcid","tab","sessionenrol","deleteConfirm","get_strings","key","component","param","curriculumname","then","s","confirm","types","CONFIRM","DEFAULT","create","title","type","body","done","modal","setSaveButtonText","getRoot","on","yes","e","preventDefault","call","methodname","window","location","href","fail","bind","this","show","click","data","prop","hasClass","val","trigger","curriculumStatus","actionstatusmsg","String","ManagecurriculumStatus","load","unassignCourses","programid","yearid","courseid","ProgramsDatatable","options","rows_selected","table","DataTable","row","rowId","inArray","find","addClass","$row","closest","index","checked","push","splice","removeClass","curriculum","updateDataTableSelectAllCtrl","stopPropagation","parent","container","$table","node","$chkbox_all","$chkbox_checked","chkbox_select_all","get","length","indeterminate","FacultysDatatable","masterprogramchildpopup","ajax","url","id","sesskey","success","returndata","chlidprogramsDatatable","setLarge","animate","hidden","destroy","hide","stable","checkProgramStatus","pid","ccid","costcenter","finalstatus","SAVE_CANCEL","get_string","programname","response","setTimeout","document","reload","CANCEL","message"],"mappings":"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"}