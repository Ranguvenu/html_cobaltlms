{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{# curriculum}}
<div class="curriculumview_container">
    <div class="d-flex classview_topcontent pl-0 pr-0">
        <div class="curriculum_view_content w-full ">
            <div class="description w-full">
                 <div class="d-flex justify-content-between">
                    <h6>Description</h6>
                    <!-- add semester button -->
                 </div>
                
                {{# isdescription}}
                        <p class="more" title="{{{ isdescription }}}">{{ isdescription }}</p>
                {{/ isdescription}}
                {{^ isdescription }}
                    <p class="alert alert-info text-xs-center">{{#str}}nocoursedesc, local_courses{{/str}}</p>
                {{/ isdescription }}
            </div>
        </div>
    </div>

  <!-- <div class="edit_icon">
     <i class = "fa fa-pencil btn" onclick = "(function(e){require('local_curriculum/ajaxforms').init({contextid:1,id: {{curriculumid}}, component:'local_curriculum',
                callback:'curriculum_form', form_status:0,plugintype: 'local', pluginname: 'curriculum'})})(event)" title="Edit">
    </i>
 </div> -->
  

    <div class="curriculum_view_content w-full ">
        {{{ curriculumsemesteryears }}}
    </div>
</div>
{{/ curriculum}}
<style>
    .morecontent span {
    display: none;
    }
    .morelink {
        display: block;
    }
</style>
{{#js}}
    $(document).ready(function() {
    // Configure/customize these variables.
    var showChar = 150;  // How many characters are shown by default
    var ellipsestext = "...";
    var moretext = "Show more >";
    var lesstext = "Show less";
    

    $('.more').each(function() {
        var content = $(this).html();
 
        if(content.length > showChar) {
 
            var c = content.substr(0, showChar);
            var h = content.substr(showChar, content.length - showChar);
 
            var html = c + '<span class="moreellipses">' + ellipsestext+ '&nbsp;</span><span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink">' + moretext + '</a></span>';
 
            $(this).html(html);
        }
 
    });
 
    $(".morelink").click(function(){
        if($(this).hasClass("less")) {
            $(this).removeClass("less");
            $(this).html(moretext);
        } else {
            $(this).addClass("less");
            $(this).html(lesstext);
        }
        $(this).parent().prev().toggle();
        $(this).prev().toggle();
        return false;
    });
});
{{/js}}
